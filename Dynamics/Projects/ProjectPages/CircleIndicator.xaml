<UserControl x:Class="Dynamics.Projects.ProjectPages.CircleIndicator"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"       
             xmlns:local="clr-namespace:Dynamics.Projects.ProjectPages"
             xmlns:ed="http://schemas.microsoft.com/expression/2010/drawing"
             x:Name="_this"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="400">
    <UserControl.Resources>
        <local:ValueToAngleConverter x:Key="ValueToAngleConverter">

        </local:ValueToAngleConverter>
    </UserControl.Resources>

    <Grid>
        <Ellipse Name="Background" Fill="{Binding ElementName=_this, Path=BackgroundBrush}" Height="auto" Margin="0,0,0,0" Width="auto"/>
        <ed:Arc x:Name="Progress"  ArcThickness="200" ArcThicknessUnit="Pixel" EndAngle="{Binding Converter={StaticResource ValueToAngleConverter}, ElementName=_this, Path=Value}" Fill="{Binding ElementName=_this, Path=IndicatorBrush}"  Margin="0" Stretch="None" StartAngle="0"/>
        <Path x:Name="Border" Data="M146,50.499999 C198.74319,50.499999 241.5,88.018538 241.5,134.3 241.5,180.58147 198.74319,218.1 146,218.1 93.256805,218.1 50.5,180.58147 50.5,134.3 50.5,88.018538 93.256805,50.499999 146,50.499999 z M146,15.500001 C137.40274,15.499999 128.77028,16.279193 120.31334,17.826115 111.92078,19.361258 103.6319,21.665496 95.65892,24.702452 87.800362,27.695821 80.182205,31.427119 73.017319,35.829573 65.991341,40.146678 59.33931,45.148478 53.269344,50.730346 47.332325,56.189956 41.897232,62.2569 37.156059,68.781989 32.515366,75.168784 28.494455,82.059134 25.252131,89.257361 22.064695,96.333716 19.597507,103.7825 17.956684,111.36816 16.331377,118.88208 15.5,126.61232&#xD;&#xA;15.500001,134.3 15.5,141.53567 16.235405,148.80696 17.676785,155.89761 19.130415,163.04855 21.315697,170.08583 24.148705,176.81064 27.025661,183.63974 30.597046,190.21205 34.73584,196.35892 38.957016,202.62814 43.805927,208.51269 49.12685,213.88013 54.560703,219.36146 60.53299,224.35167 66.872566,228.75413 73.336571,233.243 80.234703,237.15822 87.390007,240.43465 94.657394,243.76237 102.24616,246.45753 109.9789,248.48076 117.7892,250.52429&#xD;&#xA;125.80447,251.89795 133.84853,252.58339 141.92026,253.27121 150.07974,253.27121 158.15147,252.58339 166.19554,251.89795 174.2108,250.52429 182.0211,248.48076 189.75383,246.45753 197.34261,243.76237 204.60999,240.43465 211.7653,237.15822 218.66344,233.243 225.12744,228.75413 231.46701,224.35167 237.4393,219.36146 242.87315,213.88013 248.19408,208.51269 253.04298,202.62814 257.26416,196.35892 261.40295,190.21205 264.97433,183.63974 267.85129,176.81064&#xD;&#xA;270.6843,170.08583 272.8696,163.04855 274.32321,155.89761 275.76459,148.80696 276.5,141.53567 276.5,134.3 276.5,126.61232 275.66861,118.88208 274.0433,111.36816 272.4025,103.7825 269.9353,96.333716 266.74786,89.257361 263.50555,82.059134 259.48462,75.168784 254.84395,68.781989 250.10277,62.2569 244.66768,56.189956 238.73065,50.730346 232.66069,45.148478 226.00867,40.146678 218.98268,35.829573 211.81779,31.427119 204.19965,27.695821&#xD;&#xA;196.34108,24.702452 188.3681,21.665496 180.07921,19.361258 171.68666,17.826115 163.22972,16.279193 154.59726,15.499999 146,15.500001 z M146,0.5 C226.35744,0.49999887 291.5,60.404296 291.5,134.3 291.5,208.19571 226.35742,268.1 146,268.1 65.642555,268.1 0.5,208.19571 0.5,134.3 0.5,60.404296 65.64257,0.49999887 146,0.5 z" Fill="{Binding ElementName=_this, Path=ProgressBorderBrush}" Margin="-1" Stretch="Fill" />
        <TextBlock x:Name="ProgressText" HorizontalAlignment="Center" Foreground="White" Margin="0" TextAlignment="Center" TextWrapping="Wrap" VerticalAlignment="Center" Width="56">
            <Run Text="{Binding ElementName=_this, Path=TextValue}"></Run>
            <Run Text="%"></Run>
        </TextBlock>
    </Grid>
</UserControl>
